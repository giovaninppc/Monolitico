<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>Monolitico</title> 

 
<!-- <video> tag, with the @controls attribute
     giving it the play/pause/seeker controls,
     and the @loop making it automatically loop. --> 
</head>
	<body>
		<canvas id=c></canvas>
		<canvas id=b></canvas>
		<video id=v width="300" height="150" controls="" loop="" autoplay=""> 
			<!-- I have two versions of the video encoded with
			     different codecs.  The browser will automatically
			     choose the first one it knows it can play. --> 
			<source src="video.mp4" type="video/mp4"> 
		</video> 

 
<style> 
#c {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    width: 100%;
    height: 100%;
}
#v {
    position: absolute;
    top: 50%;
    left: 50%;
    margin: -180px 0 0 -240px;
    display:none;
}
	}
</style>
 	</body>
</html>


<script>
	document.addEventListener('DOMContentLoaded', function(){

    var v = document.getElementById('v');
    var canvas = document.getElementById('c');
    var context = canvas.getContext('2d');

    var cw = Math.floor(canvas.clientWidth / 1);
    var ch = Math.floor(canvas.clientHeight / 1);
    canvas.width = cw;
    canvas.height = ch;

    v.addEventListener('play', function(){
        draw(this,context,cw,ch);
    },false);

},false);

function createGradient(){
	var my_gradient=c.createRadialGradient(0,0,200,800,600,100);
	my_gradient.addColorStop(0.3,"black");
	my_gradient.addColorStop(0.6,"red");
}
function draw(v,c,w,h) {
    if(v.paused || v.ended) return false;

    c.drawImage(v,0,0,w,h);

	c.fillStyle='#'+Math.floor(Math.random()*16777215).toString(16);

    c.globalAlpha = 100;   // amount of FX
    c.globalCompositeOperation = "color";  // The comp setting to do BLACK/WHITE
    c.fillRect(0,0,w,h);  // Draw gray over the video
    c.globalAlpha = 1;  // reset alpha
    c.globalCompositeOperation = "source-over";  // reset comp
    setTimeout(draw,50,v,c,w,h);
 
}
</script>